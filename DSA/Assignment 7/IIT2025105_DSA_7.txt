//1

#include <stdio.h>
#include <string.h>

#define MAX 1000

int queue[MAX];
int front = 0, rear = -1, size = 0;

int isEmpty() {
    return size == 0;
}

void enqueue(int x) {
    if (rear < MAX - 1) {
        rear++;
        queue[rear] = x;
        size++;
    }
}

void dequeue() {
    if (isEmpty()) {
        printf("EMPTY\n");
    } else {
        front++;
        size--;
    }
}

void printFront() {
    if (isEmpty()) {
        printf("EMPTY\n");
    } else {
        printf("%d\n", queue[front]);
    }
}

void printSize() {
    printf("%d\n", size);
}

int main() {
    int N;
    // printf("Enter : ");
    scanf("%d", &N);

    char op[20];
    int x;

    for (int i = 0; i < N; i++) {
        scanf("%s", op);

        if (strcmp(op, "ENQUEUE") == 0) {
            scanf("%d", &x);
            enqueue(x);
        } 
        else if (strcmp(op, "DEQUEUE") == 0) {
            dequeue();
        } 
        else if (strcmp(op, "FRONT") == 0) {
            printFront();
        } 
        else if (strcmp(op, "SIZE") == 0) {
            printSize();
        }
    }

    return 0;
}

//2

#include <stdio.h>

int Index(int n, int petrol[], int cost[]) {
    for (int i = 0; i < n; i++) {
        int tank = 0;
        int count = 0;
        int j = i;

        while (count < n) {
            tank += petrol[j] - cost[j];

            if (tank < 0) {
                break;   
            }

            j = (j + 1) % n;  
            count++;
        }

        if (count == n && tank >= 0) {
            return i; 
        }
    }
    return -1;  
}

int main() {
    int n;
    // printf("Enter : ");
    scanf("%d", &n);

    int petrol[n], cost[n];

    for (int i = 0; i < n; i++)
        scanf("%d", &petrol[i]);

    for (int i = 0; i < n; i++)
        scanf("%d", &cost[i]);

    int ans = Index(n, petrol, cost);

    if (ans == -1)
        printf("IMPOSSIBLE\n");
    else
        printf("\nIndex is %d\n", ans);

    return 0;
}

//3

#include <stdio.h>
#include <stdlib.h>
#include <string.h>

struct Node {
    int id;
    char name[100];
    struct Node* prev;
    struct Node* next;
};

struct Node* head = NULL;
struct Node* tail = NULL;
struct Node* current = NULL;

struct Node* createNode(int id, char name[]) {
    struct Node* newNode = (struct Node*)malloc(sizeof(struct Node));
    newNode->id = id;
    strcpy(newNode->name, name);
    newNode->prev = NULL;
    newNode->next = NULL;
    return newNode;
}

void addFront(int id, char name[]) {
    struct Node* newNode = createNode(id, name);

    if (head == NULL) {
        head = tail = current = newNode;
    } else {
        newNode->next = head;
        head->prev = newNode;
        head = newNode;
    }
}

void addEnd(int id, char name[]) {
    struct Node* newNode = createNode(id, name);

    if (tail == NULL) {
        head = tail = current = newNode;
    } else {
        tail->next = newNode;
        newNode->prev = tail;
        tail = newNode;
    }
}

void deleteSong(int id) {
    struct Node* temp = head;

    while (temp != NULL) {
        if (temp->id == id) {
            if (temp == head) head = temp->next;
            if (temp == tail) tail = temp->prev;
            if (temp->prev) temp->prev->next = temp->next;
            if (temp->next) temp->next->prev = temp->prev;

            if (current == temp) {
                if (temp->next)
                    current = temp->next;
                else
                    current = temp->prev;
            }

            free(temp);
            return;
        }
        temp = temp->next;
    }
}

void nextSong() {
    if (current == NULL || current->next == NULL) {
        printf("END OF PLAYLIST\n");
    } else {
        current = current->next;
        if (current == NULL || current->next == NULL) {
        printf("END OF PLAYLIST\n");
    }
    }
}

void prevSong() {
    if (current == NULL || current->prev == NULL) {
        printf("START OF PLAYLIST\n");
    } else {
        current = current->prev;
        if (current == NULL || current->prev == NULL) {
        printf("START OF PLAYLIST\n");
    }
}
}

void displayForward() {
    struct Node* temp = head;
    while (temp != NULL) {
        printf("%d %s\n", temp->id, temp->name);
        temp = temp->next;
    }
}

void displayBackward() {
    struct Node* temp = tail;
    while (temp != NULL) {
        printf("%d %s\n", temp->id, temp->name);
        temp = temp->prev;
    }
}

int main() {
    int N;
    // printf("Enter : ");
    scanf("%d", &N);

    char op[30];
    int id;
    char name[100];

    while (N--) {
        scanf("%s", op);

        if (strcmp(op, "ADD_FRONT") == 0) {
            scanf("%d %s", &id, name);
            addFront(id, name);
        } 
        else if (strcmp(op, "ADD_END") == 0) {
            scanf("%d %s", &id, name);
            addEnd(id, name);
        } 
        else if (strcmp(op, "DELETE") == 0) {
            scanf("%d", &id);
            deleteSong(id);
        } 
        else if (strcmp(op, "NEXT") == 0) {
            nextSong();
        } 
        else if (strcmp(op, "PREV") == 0) {
            prevSong();
        } 
        else if (strcmp(op, "DISPLAY_FORWARD") == 0) {
            displayForward();
        } 
        else if (strcmp(op, "DISPLAY_BACKWARD") == 0) {
            displayBackward();
        }
    }
    return 0;
}